#!/usr/bin/env node

function runMollusk(arg) {
  var result = require('../')(arg)
  console.log(`input: ${arg.trim()}`)
  console.log(`valence: ${result.valence}, abs: ${result.valence_abs}`)
  result.positive.length
  && console.log(`positive: ${result.positive.map(JSON.stringify).join(', ')}`)
  result.negative.length
  && console.log(`negative: ${result.negative.map(JSON.stringify).join(', ')}`)
}

if (process.argv[2] === '-') {
  process.stdin.resume()
  var data = ''
  process.stdin.on('data', (d) => data += d)
  process.stdin.once('end', () => runMollusk(data))
} else {
  runMollusk(process.argv.slice(2).join(' '))
}


